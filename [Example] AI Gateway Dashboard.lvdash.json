{
  "datasets": [
    {
      "name": "cf431d29",
      "displayName": "combined_usage_and_payloads",
      "query": "SELECT endpoint_usage.databricks_request_id, \nserved_entities.endpoint_id, \nserved_entities.endpoint_name, \nserved_entities.served_entity_id, \nserved_entities.entity_name,\nserved_entities.served_entity_name, \ninference_table.sampling_fraction, \ninference_table.status_code, \ninference_table.requester, \ninference_table.request_time, \ninference_table.execution_duration_ms / 1000.0 AS execution_duration_seconds, \nendpoint_usage.input_token_count, \nendpoint_usage.output_token_count, \nendpoint_usage.request_streaming,\nendpoint_usage.status_code,  \n(input_token_count + output_token_count) AS total_token_count \nFROM system.serving.endpoint_usage AS endpoint_usage\nJOIN \n  system.serving.served_entities AS served_entities \nON \n  served_entities.served_entity_id = endpoint_usage.served_entity_id\nJOIN \n  IDENTIFIER(:inference_table_name) AS inference_table \nON \n  endpoint_usage.databricks_request_id = inference_table.databricks_request_id",
      "parameters": [
        {
          "displayName": "inference_table_name",
          "keyword": "inference_table_name",
          "dataType": "STRING",
          "defaultSelection": {}
        }
      ]
    },
    {
      "name": "929253ef",
      "displayName": "payload_table",
      "query": "SELECT request_date, databricks_request_id, request_time, status_code, execution_duration_ms, request, response, served_entity_id, requester \nFROM IDENTIFIER(:inference_table)",
      "parameters": [
        {
          "displayName": "inference_table",
          "keyword": "inference_table",
          "dataType": "STRING",
          "defaultSelection": {}
        }
      ]
    },
    {
      "name": "7c095ebd",
      "displayName": "usage_tracking_one_endpoint",
      "query": "SELECT \n  endpoint_name, \n  entity_type, \n  task, \n  endpoint_usage.account_id, \n  endpoint_usage.workspace_id, \n  endpoint_usage.requester, \n  endpoint_usage.input_token_count, \n  endpoint_usage.output_token_count, \n  endpoint_usage.request_time, \n  served_entities.external_model_config, \n  endpoint_usage.status_code,\n  (input_token_count + output_token_count) as token_total_count \nFROM system.serving.endpoint_usage AS endpoint_usage\nJOIN system.serving.served_entities AS served_entities\nON served_entities.served_entity_id = endpoint_usage.served_entity_id\nWHERE endpoint_name = :endpoint_name",
      "parameters": [
        {
          "displayName": "Endpoint Name",
          "keyword": "endpoint_name",
          "dataType": "STRING",
          "defaultSelection": {}
        }
      ]
    },
    {
      "name": "34dae898",
      "displayName": "usage_tracking_all_endpoints",
      "query": "SELECT \n  endpoint_name, \n  entity_type, \n  task, \n  endpoint_usage.account_id, \n  endpoint_usage.workspace_id, \n  requester, \n  endpoint_usage.input_token_count, \n  endpoint_usage.output_token_count, \n  (endpoint_usage.output_token_count + endpoint_usage.input_token_count) as total_token_count, \n  endpoint_usage.request_time, \n  served_entities.external_model_config \nFROM system.serving.endpoint_usage AS endpoint_usage\nJOIN system.serving.served_entities AS served_entities\nON served_entities.served_entity_id = endpoint_usage.served_entity_id"
    },
    {
      "name": "ef58749e",
      "displayName": "aggregated_insights_all_endpoints",
      "query": "WITH usage_tracking_and_served_entities AS (\n    SELECT \n        endpoint_usage.*,\n        served_entities.*\n    FROM \n        system.serving.endpoint_usage AS endpoint_usage\n    JOIN \n        system.serving.served_entities AS served_entities \n    ON \n        served_entities.served_entity_id = endpoint_usage.served_entity_id\n),\ndaily_usage AS (\n    SELECT \n        DATE(usage_tracking_and_served_entities.request_time) AS day,\n        usage_tracking_and_served_entities.endpoint_name,\n        usage_tracking_and_served_entities.requester,\n        COUNT(*) AS total_requests,\n        SUM(usage_tracking_and_served_entities.input_token_count + usage_tracking_and_served_entities.output_token_count) AS total_tokens,\n        SUM(CASE WHEN usage_tracking_and_served_entities.status_code >= 400 THEN 1 ELSE 0 END) AS error_requests\n    FROM \n        usage_tracking_and_served_entities\n    GROUP BY \n        DATE(usage_tracking_and_served_entities.request_time),\n        usage_tracking_and_served_entities.endpoint_name,\n        usage_tracking_and_served_entities.requester\n),\ntop_users AS (\n    SELECT\n        day,\n        endpoint_name,\n        requester AS top_user,\n        RANK() OVER (PARTITION BY day, endpoint_name ORDER BY total_tokens DESC) AS rank\n    FROM\n        daily_usage\n)\nSELECT\n    daily_usage.day,\n    daily_usage.endpoint_name,\n    SUM(daily_usage.total_tokens) AS total_tokens,\n    SUM(daily_usage.total_requests) AS total_requests,\n    ROUND((SUM(daily_usage.error_requests) / SUM(daily_usage.total_requests)) * 100, 2) AS error_percentage,\n    top_users.top_user\nFROM\n    daily_usage\nJOIN\n    top_users\nON\n    daily_usage.day = top_users.day\n    AND daily_usage.endpoint_name = top_users.endpoint_name\n    AND top_users.rank = 1\nGROUP BY\n    daily_usage.day,\n    daily_usage.endpoint_name,\n    top_users.top_user\nORDER BY\n    daily_usage.day DESC,\n    daily_usage.endpoint_name;"
    },
    {
      "name": "96e2cb5f",
      "displayName": "aggregated_insights_one_endpoint",
      "query": "WITH usage_tracking_and_served_entities AS (\n    SELECT \n        endpoint_usage.*,\n        served_entities.created_by,\n        served_entities.endpoint_name,\n        served_entities.endpoint_id,\n        served_entities.served_entity_name,\n        served_entities.entity_type,\n        served_entities.entity_name,\n        served_entities.entity_version,\n        served_entities.endpoint_config_version, \n        served_entities.task,\n        served_entities.endpoint_config_version,\n        served_entities.external_model_config,\n        served_entities.foundation_model_config,\n        served_entities.custom_model_config,\n        served_entities.feature_spec_config,\n        served_entities.change_time, \n        served_entities.endpoint_delete_time\n    FROM \n        system.serving.endpoint_usage AS endpoint_usage\n    JOIN \n        system.serving.served_entities AS served_entities \n    ON \n        served_entities.served_entity_id = endpoint_usage.served_entity_id\n),\ndaily_usage AS (\n    SELECT \n        DATE(usage_tracking_and_served_entities.request_time) AS day,\n        usage_tracking_and_served_entities.endpoint_name,\n        COUNT(*) AS total_requests,\n        SUM(usage_tracking_and_served_entities.input_token_count + usage_tracking_and_served_entities.output_token_count) AS total_tokens,\n        AVG(inference_table.execution_duration_ms) AS avg_execution_duration,\n        usage_tracking_and_served_entities.requester,\n        SUM(CASE WHEN inference_table.status_code >= 400 THEN 1 ELSE 0 END) AS error_requests\n        \n    FROM \n        usage_tracking_and_served_entities\n    JOIN \n        IDENTIFIER(:inference_table) AS inference_table \n    ON \n        usage_tracking_and_served_entities.databricks_request_id = inference_table.databricks_request_id\n    GROUP BY \n        DATE(usage_tracking_and_served_entities.request_time),\n        usage_tracking_and_served_entities.endpoint_name,\n        usage_tracking_and_served_entities.requester\n),\ntop_users AS (\n    SELECT\n        day,\n        endpoint_name,\n        requester AS top_user,\n        RANK() OVER (PARTITION BY day, endpoint_name ORDER BY total_tokens DESC) AS rank\n    FROM\n        daily_usage\n)\nSELECT\n    daily_usage.day,\n    daily_usage.endpoint_name,\n    daily_usage.total_requests,\n    daily_usage.total_tokens,\n    daily_usage.avg_execution_duration,\n    daily_usage.error_requests, \n    top_users.top_user\nFROM\n    daily_usage\nJOIN\n    top_users\nON\n    daily_usage.day = top_users.day\n    AND daily_usage.endpoint_name = top_users.endpoint_name\n    AND top_users.rank = 1\nORDER BY\n    daily_usage.day,\n    daily_usage.endpoint_name;",
      "parameters": [
        {
          "displayName": "inference_table",
          "keyword": "inference_table",
          "dataType": "STRING",
          "defaultSelection": {}
        }
      ]
    }
  ],
  "pages": [
    {
      "name": "8b91f0ca",
      "displayName": "New Page",
      "layout": [
        {
          "widget": {
            "name": "bb060cd3",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "cf431d29",
                  "fields": [
                    {
                      "name": "entity_name",
                      "expression": "`entity_name`"
                    },
                    {
                      "name": "daily(request_time)",
                      "expression": "DATE_TRUNC(\"DAY\", `request_time`)"
                    },
                    {
                      "name": "avg(execution_duration_seconds)",
                      "expression": "AVG(`execution_duration_seconds`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "line",
              "encodings": {
                "x": {
                  "fieldName": "daily(request_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "request_time"
                },
                "y": {
                  "fieldName": "avg(execution_duration_seconds)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Execution (seconds)"
                },
                "color": {
                  "fieldName": "entity_name",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": "gpt-4o-mini-2024-07-18",
                        "color": "#8BCAE7"
                      }
                    ]
                  },
                  "displayName": "entity_name"
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "title": "Average Execution Duration by Model",
                "showTitle": true,
                "showDescription": true,
                "description": "Monitor the daily average execution duration by model (served entity) in your endpoint."
              }
            }
          },
          "position": {
            "x": 0,
            "y": 36,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "5009dcaf",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "7c095ebd",
                  "fields": [
                    {
                      "name": "status_code",
                      "expression": "`status_code`"
                    },
                    {
                      "name": "daily(request_time)",
                      "expression": "DATE_TRUNC(\"DAY\", `request_time`)"
                    },
                    {
                      "name": "count(status_code)",
                      "expression": "COUNT(`status_code`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "daily(request_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "request_time"
                },
                "y": {
                  "fieldName": "count(status_code)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Count of status_code"
                },
                "color": {
                  "fieldName": "status_code",
                  "scale": {
                    "type": "categorical",
                    "mappings": [
                      {
                        "value": 400,
                        "color": "#FF3621"
                      },
                      {
                        "value": 500,
                        "color": "#FFAB00"
                      }
                    ]
                  },
                  "displayName": "status_code"
                }
              },
              "frame": {
                "title": "Number of Requests by Status Code",
                "showTitle": true,
                "showDescription": true,
                "description": "Monitor endpoint health by tracking status codes. Only requires endpoint name."
              }
            }
          },
          "position": {
            "x": 3,
            "y": 36,
            "width": 3,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "01c03228",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "7c095ebd",
                  "fields": [
                    {
                      "name": "requester",
                      "expression": "`requester`"
                    },
                    {
                      "name": "daily(request_time)",
                      "expression": "DATE_TRUNC(\"DAY\", `request_time`)"
                    },
                    {
                      "name": "sum(token_total_count)",
                      "expression": "SUM(`token_total_count`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "daily(request_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "request_time"
                },
                "y": {
                  "fieldName": "sum(token_total_count)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Sum of token_total_count"
                },
                "color": {
                  "fieldName": "requester",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "requester"
                },
                "label": {
                  "show": false
                }
              },
              "frame": {
                "title": "Total tokens per requester by day",
                "showTitle": true,
                "showDescription": true,
                "description": "View the number of tokens each requester on the endpoint is using per day. Only requires endpoint name."
              }
            }
          },
          "position": {
            "x": 0,
            "y": 30,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "85b1cb93",
            "textbox_spec": "# [EXAMPLE] AI Gateway Dashboard\n\n**This dashboard is an example demonstration of how to visualize insights from AI Gateway-enabled endpoints by leveraging usage tracking and inference tables.** The usage tracking data is stored in the system table `system.serving.endpoint_usage`. To attach endpoint metadata, `system.serving.endpoint_usage` is joined with `system.serving.served_entities`. Inference tables for each endpoint are located in a custom table location defined by the endpoint creator within the Unity Catalog."
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "fd083623",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "929253ef",
                  "fields": [
                    {
                      "name": "request_date",
                      "expression": "`request_date`"
                    },
                    {
                      "name": "databricks_request_id",
                      "expression": "`databricks_request_id`"
                    },
                    {
                      "name": "request_time",
                      "expression": "`request_time`"
                    },
                    {
                      "name": "status_code",
                      "expression": "`status_code`"
                    },
                    {
                      "name": "execution_duration_ms",
                      "expression": "`execution_duration_ms`"
                    },
                    {
                      "name": "request",
                      "expression": "`request`"
                    },
                    {
                      "name": "response",
                      "expression": "`response`"
                    },
                    {
                      "name": "served_entity_id",
                      "expression": "`served_entity_id`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "request_date",
                    "dateTimeFormat": "YYYY-MM-DD",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "date",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100000,
                    "title": "request_date",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "request_date"
                  },
                  {
                    "fieldName": "databricks_request_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "databricks_request_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "databricks_request_id"
                  },
                  {
                    "fieldName": "request_time",
                    "dateTimeFormat": "YYYY-MM-DD HH:mm:ss.SSS",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100002,
                    "title": "request_time",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "request_time"
                  },
                  {
                    "fieldName": "status_code",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100003,
                    "title": "status_code",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "status_code"
                  },
                  {
                    "fieldName": "execution_duration_ms",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100004,
                    "title": "execution_duration_ms",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "execution_duration_ms"
                  },
                  {
                    "fieldName": "request",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "request",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "request"
                  },
                  {
                    "fieldName": "response",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "response",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "response"
                  },
                  {
                    "fieldName": "served_entity_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100007,
                    "title": "served_entity_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "served_entity_id"
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "requester",
                  "type": "string",
                  "displayAs": "string",
                  "order": 100008,
                  "title": "requester",
                  "allowSearch": false,
                  "alignContent": "left",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "[EXAMPLE REFERENCE] Raw Payloads Logs",
                "showDescription": true,
                "description": "Get the payloads from your endpoint per each request."
              }
            }
          },
          "position": {
            "x": 0,
            "y": 42,
            "width": 6,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "546ca57d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "34dae898",
                  "fields": [
                    {
                      "name": "endpoint_name",
                      "expression": "`endpoint_name`"
                    },
                    {
                      "name": "entity_type",
                      "expression": "`entity_type`"
                    },
                    {
                      "name": "task",
                      "expression": "`task`"
                    },
                    {
                      "name": "requester",
                      "expression": "`requester`"
                    },
                    {
                      "name": "input_token_count",
                      "expression": "`input_token_count`"
                    },
                    {
                      "name": "output_token_count",
                      "expression": "`output_token_count`"
                    },
                    {
                      "name": "request_time",
                      "expression": "`request_time`"
                    },
                    {
                      "name": "account_id",
                      "expression": "`account_id`"
                    },
                    {
                      "name": "workspace_id",
                      "expression": "`workspace_id`"
                    },
                    {
                      "name": "external_model_config",
                      "expression": "`external_model_config`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "endpoint_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 0,
                    "title": "endpoint_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "endpoint_name"
                  },
                  {
                    "fieldName": "entity_type",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 1,
                    "title": "entity_type",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "entity_type"
                  },
                  {
                    "fieldName": "task",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 2,
                    "title": "task",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "task"
                  },
                  {
                    "fieldName": "requester",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 3,
                    "title": "requester",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "requester"
                  },
                  {
                    "fieldName": "input_token_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 4,
                    "title": "input_token_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "input_token_count"
                  },
                  {
                    "fieldName": "output_token_count",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 5,
                    "title": "output_token_count",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "output_token_count"
                  },
                  {
                    "fieldName": "request_time",
                    "dateTimeFormat": "YYYY-MM-DD HH:mm:ss.SSS",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "datetime",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 6,
                    "title": "request_time",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "request_time"
                  },
                  {
                    "fieldName": "account_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 7,
                    "title": "account_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "account_id"
                  },
                  {
                    "fieldName": "workspace_id",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 8,
                    "title": "workspace_id",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "workspace_id"
                  },
                  {
                    "fieldName": "external_model_config",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "complex",
                    "displayAs": "json",
                    "visible": true,
                    "order": 9,
                    "title": "external_model_config",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "external_model_config"
                  }
                ]
              },
              "invisibleColumns": [
                {
                  "numberFormat": "0",
                  "booleanValues": [
                    "false",
                    "true"
                  ],
                  "imageUrlTemplate": "{{ @ }}",
                  "imageTitleTemplate": "{{ @ }}",
                  "imageWidth": "",
                  "imageHeight": "",
                  "linkUrlTemplate": "{{ @ }}",
                  "linkTextTemplate": "{{ @ }}",
                  "linkTitleTemplate": "{{ @ }}",
                  "linkOpenInNewTab": true,
                  "name": "total_token_count",
                  "type": "integer",
                  "displayAs": "number",
                  "order": 100008,
                  "title": "total_token_count",
                  "allowSearch": false,
                  "alignContent": "right",
                  "allowHTML": false,
                  "highlightLinks": false,
                  "useMonospaceFont": false,
                  "preserveWhitespace": false
                }
              ],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "[EXAMPLE REFERENCE] All Usage Tracking Requests for All Endpoints",
                "showDescription": true,
                "description": "Reference the usage tracking information captured per request."
              }
            }
          },
          "position": {
            "x": 0,
            "y": 17,
            "width": 6,
            "height": 4
          }
        },
        {
          "widget": {
            "name": "0b8ee865",
            "textbox_spec": "### Usage Tracking Across All Endpoints"
          },
          "position": {
            "x": 0,
            "y": 3,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "563207cb",
            "textbox_spec": "## Single Endpoint Observability (Usage Tracking and Payload Logs)\nThis section tracks the usage and payload logs of a single endpoint specified in the fields below.\n"
          },
          "position": {
            "x": 0,
            "y": 21,
            "width": 6,
            "height": 2
          }
        },
        {
          "widget": {
            "name": "53f054ca",
            "queries": [
              {
                "name": "parameter_dashboards/01ef80ff9ffa17a484f654042d01200b/datasets/01ef80ffa00c19368005320d88737b92_endpoint_name",
                "query": {
                  "datasetName": "7c095ebd",
                  "parameters": [
                    {
                      "name": "endpoint_name",
                      "keyword": "endpoint_name"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "parameterName": "endpoint_name",
                    "queryName": "parameter_dashboards/01ef80ff9ffa17a484f654042d01200b/datasets/01ef80ffa00c19368005320d88737b92_endpoint_name"
                  }
                ]
              },
              "frame": {
                "showTitle": true,
                "title": "Endpoint Name"
              },
              "selection": {
                "defaultSelection": {
                  "values": {
                    "dataType": "STRING",
                    "values": [
                      {
                        "value": "endpoint_name"
                      }
                    ]
                  }
                }
              }
            }
          },
          "position": {
            "x": 0,
            "y": 24,
            "width": 2,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "a9c59a62",
            "queries": [
              {
                "name": "parameter_dashboards/01ef80ff9ffa17a484f654042d01200b/datasets/01ef80ffa00518f29095af08b21c9e08_inference_table",
                "query": {
                  "datasetName": "929253ef",
                  "parameters": [
                    {
                      "name": "inference_table",
                      "keyword": "inference_table"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01ef80ff9ffa17a484f654042d01200b/datasets/01ef80ff9ffe12cb9663412426cac115_inference_table_name",
                "query": {
                  "datasetName": "cf431d29",
                  "parameters": [
                    {
                      "name": "inference_table_name",
                      "keyword": "inference_table_name"
                    }
                  ],
                  "disaggregated": false
                }
              },
              {
                "name": "parameter_dashboards/01ef80ff9ffa17a484f654042d01200b/datasets/01ef8460563d1236b57b0e69744b5360_inference_table",
                "query": {
                  "datasetName": "96e2cb5f",
                  "parameters": [
                    {
                      "name": "inference_table",
                      "keyword": "inference_table"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "filter-single-select",
              "encodings": {
                "fields": [
                  {
                    "parameterName": "inference_table",
                    "queryName": "parameter_dashboards/01ef80ff9ffa17a484f654042d01200b/datasets/01ef80ffa00518f29095af08b21c9e08_inference_table"
                  },
                  {
                    "parameterName": "inference_table_name",
                    "queryName": "parameter_dashboards/01ef80ff9ffa17a484f654042d01200b/datasets/01ef80ff9ffe12cb9663412426cac115_inference_table_name"
                  },
                  {
                    "parameterName": "inference_table",
                    "queryName": "parameter_dashboards/01ef80ff9ffa17a484f654042d01200b/datasets/01ef8460563d1236b57b0e69744b5360_inference_table"
                  }
                ]
              },
              "selection": {
                "defaultSelection": {
                  "values": {
                    "dataType": "STRING",
                    "values": [
                      {
                        "value": "`your_catalog`.`your_schema`.`your_table-name`"
                      }
                    ]
                  }
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Inference Table"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 24,
            "width": 2,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "cbbcaccb",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "34dae898",
                  "fields": [
                    {
                      "name": "endpoint_name",
                      "expression": "`endpoint_name`"
                    },
                    {
                      "name": "weekly(request_time)",
                      "expression": "DATE_TRUNC(\"WEEK\", `request_time`)"
                    },
                    {
                      "name": "sum(input_token_count)",
                      "expression": "SUM(`input_token_count`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "weekly(request_time)",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "request_time"
                },
                "y": {
                  "fieldName": "sum(input_token_count)",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Sum of input_token_count"
                },
                "color": {
                  "fieldName": "endpoint_name",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "endpoint_name"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "Total tokens per endpoint by week",
                "showDescription": true,
                "description": "Monitor the number of tokens each endpoint uses per week."
              }
            }
          },
          "position": {
            "x": 0,
            "y": 11,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "28e4505e",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "ef58749e",
                  "fields": [
                    {
                      "name": "day",
                      "expression": "`day`"
                    },
                    {
                      "name": "endpoint_name",
                      "expression": "`endpoint_name`"
                    },
                    {
                      "name": "total_tokens",
                      "expression": "`total_tokens`"
                    },
                    {
                      "name": "total_requests",
                      "expression": "`total_requests`"
                    },
                    {
                      "name": "error_percentage",
                      "expression": "`error_percentage`"
                    },
                    {
                      "name": "top_user",
                      "expression": "`top_user`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "day",
                    "dateTimeFormat": "YYYY-MM-DD",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "date",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100000,
                    "title": "day",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "day"
                  },
                  {
                    "fieldName": "endpoint_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "endpoint_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "endpoint_name"
                  },
                  {
                    "fieldName": "total_tokens",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100002,
                    "title": "total_tokens",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "total_tokens"
                  },
                  {
                    "fieldName": "total_requests",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100003,
                    "title": "total_requests",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "total_requests"
                  },
                  {
                    "fieldName": "error_percentage",
                    "numberFormat": "0.00",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "float",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100004,
                    "title": "error_percentage",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "error_percentage"
                  },
                  {
                    "fieldName": "top_user",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100005,
                    "title": "top_user",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "top_user"
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Aggregated daily insights per endpoint",
                "showDescription": true,
                "description": "Monitor daily aggregated metrics across endpoints: total tokens, total requests, percentage of requests with errors, top user. "
              }
            }
          },
          "position": {
            "x": 0,
            "y": 4,
            "width": 6,
            "height": 6
          }
        },
        {
          "widget": {
            "name": "a9a42957",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "96e2cb5f",
                  "fields": [
                    {
                      "name": "day",
                      "expression": "`day`"
                    },
                    {
                      "name": "endpoint_name",
                      "expression": "`endpoint_name`"
                    },
                    {
                      "name": "total_requests",
                      "expression": "`total_requests`"
                    },
                    {
                      "name": "total_tokens",
                      "expression": "`total_tokens`"
                    },
                    {
                      "name": "avg_execution_duration",
                      "expression": "`avg_execution_duration`"
                    },
                    {
                      "name": "error_requests",
                      "expression": "`error_requests`"
                    },
                    {
                      "name": "top_user",
                      "expression": "`top_user`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "day",
                    "dateTimeFormat": "YYYY-MM-DD",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "date",
                    "displayAs": "datetime",
                    "visible": true,
                    "order": 100000,
                    "title": "day",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "day"
                  },
                  {
                    "fieldName": "endpoint_name",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100001,
                    "title": "endpoint_name",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "endpoint_name"
                  },
                  {
                    "fieldName": "total_requests",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100002,
                    "title": "total_requests",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "total_requests"
                  },
                  {
                    "fieldName": "total_tokens",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100003,
                    "title": "total_tokens",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "total_tokens"
                  },
                  {
                    "fieldName": "avg_execution_duration",
                    "numberFormat": "0.00",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "float",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100004,
                    "title": "avg_execution_duration",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "avg_execution_duration"
                  },
                  {
                    "fieldName": "error_requests",
                    "numberFormat": "0",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "integer",
                    "displayAs": "number",
                    "visible": true,
                    "order": 100005,
                    "title": "error_requests",
                    "allowSearch": false,
                    "alignContent": "right",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "error_requests"
                  },
                  {
                    "fieldName": "top_user",
                    "booleanValues": [
                      "false",
                      "true"
                    ],
                    "imageUrlTemplate": "{{ @ }}",
                    "imageTitleTemplate": "{{ @ }}",
                    "imageWidth": "",
                    "imageHeight": "",
                    "linkUrlTemplate": "{{ @ }}",
                    "linkTextTemplate": "{{ @ }}",
                    "linkTitleTemplate": "{{ @ }}",
                    "linkOpenInNewTab": true,
                    "type": "string",
                    "displayAs": "string",
                    "visible": true,
                    "order": 100006,
                    "title": "top_user",
                    "allowSearch": false,
                    "alignContent": "left",
                    "allowHTML": false,
                    "highlightLinks": false,
                    "useMonospaceFont": false,
                    "preserveWhitespace": false,
                    "displayName": "top_user"
                  }
                ]
              },
              "invisibleColumns": [],
              "allowHTMLByDefault": false,
              "itemsPerPage": 25,
              "paginationSize": "default",
              "condensed": true,
              "withRowNumber": false,
              "frame": {
                "showTitle": true,
                "title": "Aggregated Daily Insights for a single endpoint",
                "showDescription": true,
                "description": "Daily metrics for total request, tokens, average execution duration, and number of requests with errors for a single endpoint."
              }
            }
          },
          "position": {
            "x": 0,
            "y": 25,
            "width": 6,
            "height": 5
          }
        },
        {
          "widget": {
            "name": "b2e59460",
            "textbox_spec": "#### IMPORTANT NOTE: This section requires a user-defined endpoint name and/or inference table location to populate the charts."
          },
          "position": {
            "x": 0,
            "y": 23,
            "width": 6,
            "height": 1
          }
        },
        {
          "widget": {
            "name": "5238cf59",
            "textbox_spec": "#### TIP: Want to set alerts on endpoint usage thresholds? Create SQL alerts in Databricks. Learn more: https://docs.databricks.com/en/sql/user/alerts/index.html"
          },
          "position": {
            "x": 0,
            "y": 10,
            "width": 6,
            "height": 1
          }
        }
      ]
    }
  ]
}
